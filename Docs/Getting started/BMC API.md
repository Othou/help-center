<p>APIs are the backbone of many modern applications. They allow different systems and software to communicate and share data, making it possible for developers to create seamless and integrated user experiences. Without APIs, many of the apps and services we rely on every day would not be possible, from social media platforms to e-commerce websites and more. They are the unsung heroes of software development, working quietly behind the scenes to connect different systems and make them work together in harmony.</p>
<p>Turing Pi V2 BMC is no different. The Web interface and $tpcli are both using the same API in background to interact with various board features. You can even skip these built-in tools and call the API with curl commands or any other external application. In the advance guide section, we will go over how to extend this API with your own functions.</p>
<h1>API Endpoints</h1>
<p>Any API that wants to be useful requires proper documentation of its endpoints. What to call and to what effect. Mind you, this list should grow as we add more and more functionality.</p>
<pre spellcheck="false" data-lt-tmp-id="lt-629696" data-gramm="false"><strong>Endpoint</strong>: /api/bmc<br><br><strong>Description</strong>:<br>This endpoint allows access to the baseboard management controller (BMC) of a computer system.<br><br><strong>Methods</strong>:<br>- POST<br><br><strong>Data Type:</strong><br>- JSON<br><strong>Query Parameters</strong>:<br>- opt (<strong>required</strong>): The operation to perform. Valid values are "get" or "set". <br><strong>For opt=get:</strong><br>    - type (<strong>required</strong>): The type of information to retrieve. <br>                       Valid values are "nodeinfo", "power", "usb", "sdcard".<br><strong>For opt=set:</strong><br>    <strong>To set USB to node:</strong><br>      - type (<strong>required</strong>): "usb"<br>      - mode <strong>(required):</strong> Valid values are "0" or "1". "0" for Host, "1" for Device<br>      - node <strong>(required): </strong>Valid values are "0", "1", "2", "3". Relating to slots Node1-4 <strong><br></strong>   <strong> Example:</strong> /api/bmc?opt=set&amp;type=usb&amp;mode=1&amp;node=0<br><br><strong>    To set Power to Module1-4:</strong><br>      - type (<strong>required</strong>): "power"<br>      - node[1-4] <strong>(required):</strong> Valid values are "0" or "1". "0" for OFF, "1" for ON. <br>                              You can chain the requests.<strong><br></strong><strong>    Example:</strong> <br>      - /api/bmc?opt=set&amp;type=power&amp;node1=0  ( Will turn off Node 1)<br>      - /api/bmc?opt=set&amp;type=power&amp;node1=1&amp;node2=1  ( Will turn ON Node 1 and Node 2)<br><strong><br>    To reset Network:</strong><br>      - type (<strong>required</strong>): "network"<br>      - <span class="pl-s1"><span class="pl-s">cmd</span></span> <strong>(required):</strong> Valid values are "<span class="pl-s1"><span class="pl-s">reset</span></span>"<strong><br></strong><strong>    Example:</strong> <span class="pl-s1"><span class="pl-s">/api/bmc?opt=set&amp;type=network&amp;cmd=reset</span></span><br><br>    <strong>To OTA Update:<br></strong>      - type (required): "firmware"<br>    <strong>Example:</strong> curl -F 'file=image.swu' 'http://{{host}}/api/bmc?opt=set&amp;type=firmware'<br><br><strong>Response:</strong><br>- 200 OK: The request was successful, and the requested information was returned.<br><br><strong>Example Request:</strong><br>POST/api/bmc?opt=get&amp;type=nodeinfo<br><br>Example Response:<br>{<br>  "response": [{<br>    "node1": "unknown",<br>    "node2": "[jetson]-Ubuntu 18.04.6 LTS BrotherEye ",<br>    "node3": "unknown",<br>    "node4": "unknown"<br>  }]<br>}</pre>
<p> </p>